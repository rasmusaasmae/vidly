{"version":3,"sources":["services/fakeGenreService.js","services/fakeMovieService.js","components/common/pagination.jsx","utils/paginate.js","components/common/listGroup.jsx","components/common/like.jsx","components/common/tableBody.jsx","components/common/tableHeader.jsx","components/common/table.jsx","components/moviesTable.jsx","components/movies.jsx","App.js","reportWebVitals.js","index.js"],"names":["genres","_id","name","movies","title","genre","numberInStock","dailyRentalRate","publishDate","liked","Pagination","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","className","map","page","onClick","paginate","items","pageNumber","startIndex","slice","take","value","ListGroup","textProperty","valueProperty","onItemSelect","selectedItem","item","defaultProps","Like","classes","style","cursor","TableBody","renderCell","column","content","get","path","createKey","key","this","props","data","columns","React","Component","TableHeader","raiseSort","sortColumn","order","onSort","renderSortIcon","label","Table","MoviesTable","movie","onLike","onDelete","Movies","state","handleDelete","filter","m","setState","handleLike","index","indexOf","handlePageChange","handleGenreSelect","selectedGenre","handleSort","getPageData","allMovies","filtered","orderBy","totalCount","length","g","count","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.474d396b.chunk.js","sourcesContent":["export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" }\n];\n\nexport function getGenres() {\n  return genres.filter(g => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\n\nconst movies = [\n  {\n    _id: \"5b21ca3eeb7f6fbccd471815\",\n    title: \"Terminator\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    publishDate: \"2018-01-03T19:04:28.809Z\",\n    liked: true,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471816\",\n    title: \"Die Hard\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 5,\n    dailyRentalRate: 2.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471817\",\n    title: \"Get Out\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 8,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471819\",\n    title: \"Trip to Italy\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\n    title: \"Airplane\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\n    title: \"Wedding Crashers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\n    title: \"Gone Girl\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 7,\n    dailyRentalRate: 4.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\n    title: \"The Sixth Sense\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 4,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471821\",\n    title: \"The Avengers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n];\n\nexport function getMovies() {\n  return movies;\n}\n\nexport function getMovie(id) {\n  return movies.find((m) => m._id === id);\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find((m) => m._id === movie._id) || {};\n  movieInDb.name = movie.name;\n  movieInDb.genre = genresAPI.genres.find((g) => g._id === movie.genreId);\n  movieInDb.numberInStock = movie.numberInStock;\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now();\n    movies.push(movieInDb);\n  }\n\n  return movieInDb;\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find((m) => m._id === id);\n  movies.splice(movies.indexOf(movieInDb), 1);\n  return movieInDb;\n}\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1) return null;\r\n  const pages = _.range(1, pagesCount + 1);\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">\r\n        {pages.map((page) => (\r\n          <li\r\n            key={page}\r\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\r\n          >\r\n            <button className=\"page-link\" onClick={() => onPageChange(page)}>\r\n              {page}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagination.propTypes = {\r\n  itemsCount: PropTypes.number.isRequired,\r\n  pageSize: PropTypes.number.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  onPageChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import _ from \"lodash\";\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n  // return items.slice((pageNumber - 1) * pageSize, pageNumber * pageSize);\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(items).slice(startIndex).take(pageSize).value();\r\n}\r\n","import React from \"react\";\r\nconst ListGroup = ({\r\n  items,\r\n  textProperty,\r\n  valueProperty,\r\n  onItemSelect,\r\n  selectedItem,\r\n}) => {\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {items.map((item) => (\r\n        <li\r\n          onClick={() => onItemSelect(item)}\r\n          key={item[valueProperty]}\r\n          className={\r\n            item === selectedItem ? \"list-group-item active\" : \"list-group-item\"\r\n          }\r\n        >\r\n          {item[textProperty]}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nListGroup.defaultProps = {\r\n  textProperty: \"name\",\r\n  valueProperty: \"_id\",\r\n};\r\n\r\nexport default ListGroup;\r\n","import React from \"react\";\r\n// Input: liked: boolean\r\n// Output: onClick\r\n\r\nconst Like = ({ liked, onClick }) => {\r\n  let classes = \"fa fa-heart\";\r\n  if (!liked) classes += \"-o\";\r\n  return (\r\n    <i\r\n      onClick={onClick}\r\n      style={{ cursor: \"pointer\" }}\r\n      className={classes}\r\n      aria-hidden=\"true\"\r\n    ></i>\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nclass TableBody extends React.Component {\r\n  renderCell = (item, column) => {\r\n    if (column.content) return column.content(item);\r\n    return _.get(item, column.path);\r\n  };\r\n  createKey = (item, column) => {\r\n    return item._id + (column.path || column.key);\r\n  };\r\n\r\n  render() {\r\n    const { data, columns } = this.props;\r\n    return (\r\n      <tbody>\r\n        {data.map((item) => (\r\n          <tr key={item._id}>\r\n            {columns.map((column) => (\r\n              <td key={this.createKey(item, column)}>\r\n                {this.renderCell(item, column)}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableBody;\r\n","import React, { Component } from \"react\";\r\n// columns: array\r\n// sortColumn: object\r\n// onSort; function\r\nclass TableHeader extends Component {\r\n  raiseSort = (path) => {\r\n    const sortColumn = { ...this.props.sortColumn };\r\n    if (sortColumn.path === path)\r\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\r\n    else {\r\n      sortColumn.path = path;\r\n      sortColumn.order = \"asc\";\r\n    }\r\n    this.props.onSort(sortColumn);\r\n  };\r\n  renderSortIcon = (column) => {\r\n    const { sortColumn } = this.props;\r\n    if (column.path !== sortColumn.path) return null;\r\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\"></i>;\r\n    return <i className=\"fa fa-sort-desc\"></i>;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {this.props.columns.map((column) => (\r\n            <th\r\n              className=\"clickable\"\r\n              key={column.path || column.key}\r\n              onClick={() => this.raiseSort(column.path)}\r\n            >\r\n              {column.label} {this.renderSortIcon(column)}\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableHeader;\r\n","import React from \"react\";\r\nimport TableBody from \"./tableBody\";\r\nimport TableHeader from \"./tableHeader\";\r\n\r\nconst Table = ({ columns, sortColumn, onSort, data }) => {\r\n  return (\r\n    <table className=\"table\">\r\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\r\n      <TableBody data={data} columns={columns} />\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React from \"react\";\r\nimport Like from \"./common/like\";\r\nimport Table from \"./common/table\";\r\n\r\nclass MoviesTable extends React.Component {\r\n  columns = [\r\n    { path: \"title\", label: \"Title\" },\r\n    { path: \"genre.name\", label: \"Genre\" },\r\n    { path: \"numberInStock\", label: \"Stock\" },\r\n    { path: \"dailyRentalRate\", label: \"Rate\" },\r\n    {\r\n      key: \"like\",\r\n      content: (movie) => (\r\n        <Like\r\n          liked={movie.liked}\r\n          onClick={() => this.props.onLike(movie)}\r\n        ></Like>\r\n      ),\r\n    },\r\n    {\r\n      key: \"delete\",\r\n      content: (movie) => (\r\n        <button\r\n          onClick={() => this.props.onDelete(movie)}\r\n          className=\"btn btn-danger btn-sm\"\r\n        >\r\n          Delete\r\n        </button>\r\n      ),\r\n    },\r\n  ];\r\n  render() {\r\n    const { movies, onSort, sortColumn } = this.props;\r\n    return (\r\n      <Table\r\n        columns={this.columns}\r\n        data={movies}\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesTable;\r\n","import React, { Component } from \"react\";\r\nimport { getMovies } from \"../services/fakeMovieService\";\r\nimport Pagination from \"./common/pagination\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport ListGroup from \"./common/listGroup\";\r\nimport { getGenres } from \"../services/fakeGenreService\";\r\nimport MoviesTable from \"./moviesTable\";\r\nimport _ from \"lodash\";\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    movies: [],\r\n    pageSize: 4,\r\n    currentPage: 1,\r\n    genres: [],\r\n    sortColumn: { path: \"title\", order: \"asc\" },\r\n  };\r\n\r\n  componentDidMount() {\r\n    const genres = [{ _id: \"\", name: \"All Genres\" }, ...getGenres()];\r\n    this.setState({ movies: getMovies(), genres });\r\n  }\r\n\r\n  handleDelete = (movie) => {\r\n    const movies = this.state.movies.filter((m) => m._id !== movie._id);\r\n    this.setState({ movies });\r\n  };\r\n\r\n  handleLike = (movie) => {\r\n    const movies = [...this.state.movies];\r\n    const index = movies.indexOf(movie);\r\n    movies[index] = { ...movies[index] };\r\n    movies[index].liked = !movies[index].liked;\r\n    this.setState({ movies });\r\n  };\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleGenreSelect = (genre) => {\r\n    this.setState({ selectedGenre: genre, currentPage: 1 });\r\n  };\r\n\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  getPageData = () => {\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      movies: allMovies,\r\n      selectedGenre,\r\n      sortColumn,\r\n    } = this.state;\r\n    const filtered =\r\n      selectedGenre && selectedGenre._id\r\n        ? allMovies.filter((m) => m.genre._id === selectedGenre._id)\r\n        : allMovies;\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n    const movies = paginate(sorted, currentPage, pageSize);\r\n    return { totalCount: filtered.length, data: movies };\r\n  };\r\n\r\n  render() {\r\n    const { length: count } = this.state.movies;\r\n    const { pageSize, currentPage, sortColumn } = this.state;\r\n\r\n    if (count === 0) return <p>There are no movies in the database.</p>;\r\n    const { totalCount, data: movies } = this.getPageData();\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          <ListGroup\r\n            items={this.state.genres}\r\n            selectedItem={this.state.selectedGenre}\r\n            onItemSelect={this.handleGenreSelect}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <p>There are {totalCount} movies in the database</p>\r\n          <MoviesTable\r\n            movies={movies}\r\n            sortColumn={sortColumn}\r\n            onLike={this.handleLike}\r\n            onDelete={this.handleDelete}\r\n            onSort={this.handleSort}\r\n          />\r\n          <Pagination\r\n            itemsCount={totalCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n","import \"./App.css\";\nimport Movies from \"./components/movies\";\n\nfunction App() {\n  return (\n    <main className=\"container\">\n      <Movies />\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}