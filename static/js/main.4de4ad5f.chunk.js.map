{"version":3,"sources":["components/common/like.jsx","services/fakeGenreService.js","services/fakeMovieService.js","components/common/pagination.jsx","components/common/listGroup.jsx","components/movies.jsx","utils/paginate.js","App.js","reportWebVitals.js","index.js"],"names":["Like","props","classes","liked","onClick","style","cursor","className","genres","_id","name","movies","title","genre","numberInStock","dailyRentalRate","publishDate","Pagination","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","map","page","ListGroup","items","textProperty","valueProperty","onItemSelect","selectedItem","item","defaultProps","Movies","state","handleDelete","movie","filter","m","setState","handleLike","index","indexOf","handlePageChange","handleGenreSelect","selectedGenre","g","this","count","length","allMovies","filtered","pageNumber","startIndex","slice","take","value","paginate","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4de4ad5f.chunk.js","sourcesContent":["import React from \"react\";\r\n// Input: liked: boolean\r\n// Output: onClick\r\n\r\nconst Like = (props) => {\r\n  let classes = \"fa fa-heart\";\r\n  if (!props.liked) classes += \"-o\";\r\n  return (\r\n    <i\r\n      onClick={props.onClick}\r\n      style={{ cursor: \"pointer\" }}\r\n      className={classes}\r\n      aria-hidden=\"true\"\r\n    ></i>\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" }\n];\n\nexport function getGenres() {\n  return genres.filter(g => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\n\nconst movies = [\n  {\n    _id: \"5b21ca3eeb7f6fbccd471815\",\n    title: \"Terminator\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    publishDate: \"2018-01-03T19:04:28.809Z\",\n    liked: true,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471816\",\n    title: \"Die Hard\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 5,\n    dailyRentalRate: 2.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471817\",\n    title: \"Get Out\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 8,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471819\",\n    title: \"Trip to Italy\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\n    title: \"Airplane\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\n    title: \"Wedding Crashers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\n    title: \"Gone Girl\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 7,\n    dailyRentalRate: 4.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\n    title: \"The Sixth Sense\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 4,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471821\",\n    title: \"The Avengers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n];\n\nexport function getMovies() {\n  return movies;\n}\n\nexport function getMovie(id) {\n  return movies.find((m) => m._id === id);\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find((m) => m._id === movie._id) || {};\n  movieInDb.name = movie.name;\n  movieInDb.genre = genresAPI.genres.find((g) => g._id === movie.genreId);\n  movieInDb.numberInStock = movie.numberInStock;\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now();\n    movies.push(movieInDb);\n  }\n\n  return movieInDb;\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find((m) => m._id === id);\n  movies.splice(movies.indexOf(movieInDb), 1);\n  return movieInDb;\n}\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Pagination = (props) => {\r\n  const { itemsCount, pageSize, currentPage, onPageChange } = props;\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1) return null;\r\n  const pages = _.range(1, pagesCount + 1);\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">\r\n        {pages.map((page) => (\r\n          <li\r\n            key={page}\r\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\r\n          >\r\n            <a className=\"page-link\" onClick={() => onPageChange(page)}>\r\n              {page}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagination.propTypes = {\r\n  itemsCount: PropTypes.number.isRequired,\r\n  pageSize: PropTypes.number.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  onPageChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nconst ListGroup = (props) => {\r\n  const { items, textProperty, valueProperty, onItemSelect, selectedItem } =\r\n    props;\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {items.map((item) => (\r\n        <li\r\n          onClick={() => onItemSelect(item)}\r\n          key={item[valueProperty]}\r\n          className={\r\n            item === selectedItem ? \"list-group-item active\" : \"list-group-item\"\r\n          }\r\n        >\r\n          {item[textProperty]}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nListGroup.defaultProps = {\r\n  textProperty: \"name\",\r\n  valueProperty: \"_id\",\r\n};\r\n\r\nexport default ListGroup;\r\n","import React, { Component } from \"react\";\r\nimport Like from \"./common/like\";\r\nimport { getMovies } from \"../services/fakeMovieService\";\r\nimport Pagination from \"./common/pagination\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport ListGroup from \"./common/listGroup\";\r\nimport { getGenres } from \"../services/fakeGenreService\";\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    movies: [],\r\n    pageSize: 4,\r\n    currentPage: 1,\r\n    genres: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const genres = [{ name: \"All Genres\" }, ...getGenres()];\r\n    this.setState({ movies: getMovies(), genres });\r\n  }\r\n\r\n  handleDelete = (movie) => {\r\n    const movies = this.state.movies.filter((m) => m._id !== movie._id);\r\n    this.setState({ movies });\r\n  };\r\n\r\n  handleLike = (movie) => {\r\n    const movies = [...this.state.movies];\r\n    const index = movies.indexOf(movie);\r\n    movies[index] = { ...movies[index] };\r\n    movies[index].liked = !movies[index].liked;\r\n    this.setState({ movies });\r\n  };\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleGenreSelect = (genre) => {\r\n    this.setState({ selectedGenre: genre, currentPage: 1 });\r\n  };\r\n\r\n  render() {\r\n    const { length: count } = this.state.movies;\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      movies: allMovies,\r\n      selectedGenre,\r\n    } = this.state;\r\n\r\n    if (count === 0) return <p>There are no movies in the database.</p>;\r\n    const filtered =\r\n      selectedGenre && selectedGenre._id\r\n        ? allMovies.filter((m) => m.genre._id === selectedGenre._id)\r\n        : allMovies;\r\n    const movies = paginate(filtered, currentPage, pageSize);\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          <ListGroup\r\n            items={this.state.genres}\r\n            selectedItem={this.state.selectedGenre}\r\n            onItemSelect={this.handleGenreSelect}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <p>There are {filtered.length} movies in the database</p>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Genre</th>\r\n                <th>Stock</th>\r\n                <th>Rate</th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {movies.map((movie) => (\r\n                <tr key={movie._id}>\r\n                  <td>{movie.title}</td>\r\n                  <td>{movie.genre.name}</td>\r\n                  <td>{movie.numberInStock}</td>\r\n                  <td>{movie.dailyRentalRate}</td>\r\n                  <td>\r\n                    <Like\r\n                      liked={movie.liked}\r\n                      onClick={() => this.handleLike(movie)}\r\n                    ></Like>\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      onClick={() => this.handleDelete(movie)}\r\n                      className=\"btn btn-danger btn-sm\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <Pagination\r\n            itemsCount={filtered.length}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n","import _ from \"lodash\";\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n  // return items.slice((pageNumber - 1) * pageSize, pageNumber * pageSize);\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(items).slice(startIndex).take(pageSize).value();\r\n}\r\n","import \"./App.css\";\nimport Movies from \"./components/movies\";\n\nfunction App() {\n  return (\n    <main className=\"container\">\n      <Movies />\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}